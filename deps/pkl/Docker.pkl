/// This module defines the settings and configurations for Docker-related
/// resources within the KDEPS framework. It allows for the specification
/// of package management, including additional package repositories (PPAs)
/// and models to be used within Docker containers.
@ModuleInfo { minPklVersion = "0.26.1" }

@go.Package { name = "github.com/kdeps/schema/gen/docker" }

module org.kdeps.pkl.Docker

import "package://pkg.pkl-lang.org/pkl-go/pkl.golang@0.5.0#/go.pkl"

/// Class representing the settings for Docker configurations.
/// It includes options for specifying packages, PPAs, and models.
class DockerSettings {
        /// Sets if Anaconda3 will be pre-installed in the Image
        installAnaconda: Boolean = false

        /// Conda packages to install when `installAnaconda` is set to true.
        ///
        /// Example:
        /// condaPackages {
        ///   ["base"] { // The name of the Anaconda environment
        ///     ["main"] = "diffuser"  // Package "diffuser" from the "main" channel
        ///   }
        /// }
        condaPackages: Mapping<String, Mapping<String, String>>?

        /// Python packages that will be pre-installed.
        pythonPackages: Listing<String>?

        /// A list of packages to be installed in the Docker container.
        packages: Listing<String>?

        /// A list of APT or PPA repos to be added.
        repositories: Listing<String>?

        /// A mandatory list of models to be used in the Docker environment.
        models: Listing<String>
}
