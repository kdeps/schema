/// Abstractions for Agent ID resolution
@ModuleInfo { minPklVersion = "0.28.2" }

@go.Package { name = "github.com/kdeps/schema/gen/agent" }

open module org.kdeps.pkl.Agent

import "package://pkg.pkl-lang.org/pkl-go/pkl.golang@0.10.0#/go.pkl"

/// Resolves an actionID using the agent reader.
/// Returns the fully qualified actionID (e.g., @agentID/actionID:version)
function resolveActionID(actionID: String?): String =
  if (actionID != null && actionID != "") 
    read("agent:/\(actionID)")?.text ?? actionID 
  else 
    actionID ?? ""