@go.Package { name = "github.com/kdeps/schema/gen/llm" }

module org.kdeps.pkl.LLM

import "package://pkg.pkl-lang.org/pkl-go/pkl.golang@0.5.0#/go.pkl"

class ResourceChat {
  hidden llmActionPrefixRegex = Regex(#"^(?i:(ENV|FILE):)(.+$)"#)

  hidden isValidLLMIOPrefix = (str) ->
  if (str.matches(llmActionPrefixRegex))
    true
  else
    throw("Error: Invalid configuration string: The LLM output string does not match any of the expected formats: ENV:, FILE:. Please ensure that the string starts with one of these prefixes.")

  model: String = "llama3.1"
  prompt: String
  input: String(isValidLLMIOPrefix)?
  output: String(isValidLLMIOPrefix)
}
